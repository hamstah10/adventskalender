# TYPO3 Adventskalender Extension - Dokumentation

Vollst√§ndige Dokumentation siehe README.md

## Schnellstart

1. Extension installieren
2. Site Set "üéÑ Adventskalender" zur Site hinzuf√ºgen
3. Einstellungen in Site ‚Üí Settings anpassen
4. Plugin auf einer Seite einf√ºgen
5. T√ºrchen im Backend oder Frontend anlegen

## Neue Features in v2.0

### Gutschein-System erweitert
- ‚úÖ Frontend-Management f√ºr Gutscheine
- ‚úÖ Echtzeit-Vorschau beim Erstellen
- ‚úÖ Mehrere Design-Templates (Klassisch, Santa, Modern)
- ‚úÖ Direkter T√ºrchen-Zuordnung im Formular
- ‚úÖ Gutschein-√úbersicht in der T√ºrchen-Management-Ansicht

### Verbesserte Verwaltung
- ‚úÖ Door ‚Üî Voucher bidirektionale Relation
- ‚úÖ Gutscheine-Tab im Management-Plugin
- ‚úÖ Filterung gel√∂schter Datens√§tze in Repositories
- ‚úÖ Improved Property Mapping f√ºr alle Fields

## Wichtig

- TYPO3 v13.4+ erforderlich
- PHP 8.2+ erforderlich
- Site Set muss aktiviert sein f√ºr korrekte Funktion
- Cache leeren nach Update: php vendor/bin/typo3 cache:flush

## Datenbankaktualisierung nach Update

Wenn von v1.x zu v2.0 aktualisiert wird:

1. Datenbank aktualisieren:
   - Im Backend: Maintenance ‚Üí Analyze Database Structure
   - Neue Spalte "door" in tx_adventskalender_domain_model_voucher wird erstellt

2. Cache leeren:
   php vendor/bin/typo3 cache:flush

3. Day-Werte f√ºr existierende T√ºrchen aktualisieren (falls n√∂tig):
   UPDATE tx_adventskalender_domain_model_door SET day = 1 WHERE day = 0;

## Frontend-Verwaltungs-Plugin

Das Extension bietet jetzt ein Frontend-Management-Plugin mit:

### T√ºrchen-Verwaltung
- √úbersicht aller T√ºrchen in einer Tabelle
- Tag-Nummer und Status-Anzeige
- Gutschein-Vorschau pro T√ºrchen
- Bearbeiten/L√∂schen Funktionalit√§t

### Gutschein-Verwaltung
- Separate "Gutscheine"-Tab
- Neue Gutscheine erstellen
- Zu einem T√ºrchen zuordnen
- Echtzeit-Vorschau w√§hrend der Erstellung
- Design-Optionen w√§hlen

### Setup des Management-Plugins

1. Neue Seite erstellen (z.B. "/admin/adventskalender")
2. Plugin-Element "Adventskalender - Verwaltung" einf√ºgen
3. Optional: Seite mit Benutzer-Authentifizierung sch√ºtzen

## Gutschein-Designs

### Klassisch (Classic)
- Gold-Farbverlauf (#ffd700 ‚Üí #ffed4e)
- Schneeflocken-Dekoration
- Ideal f√ºr traditionelles Design

### Santa (Santa)
- Rot-Farbverlauf (#c41e3a ‚Üí #8b0000)
- Wei√üe Schrift
- Weihnachtliches Feeling

### Modern (Modern)
- Blau-Farbverlauf
- Modernes, schlankes Design
- Professioneller Look

## Support

- **E-Mail**: hamstahstudio@gmail.com
- **Website**: https://www.hamstahstudio.de
- **Dokumentation**: README.md und MANAGEMENT_PLUGIN.md

## Wichtige Datei-Lokationen

- **Konfiguration**: config/sites/[sitename]/settings.yaml
- **Templates**: packages/adventskalender/Resources/Private/Templates/
- **Language Files**: packages/adventskalender/Resources/Private/Language/
- **CSS**: packages/adventskalender/Resources/Public/Css/
- **TCA**: packages/adventskalender/Configuration/TCA/

## Troubleshooting

### Gutscheine werden nicht angezeigt
- Cache leeren: php vendor/bin/typo3 cache:flush
- Pr√ºfen, ob Gutschein zu einer Door zugeordnet ist
- Pr√ºfen, ob die Door aktiv ist (is_active = 1)

### Day-Feld zeigt 0
- SQL ausf√ºhren: UPDATE tx_adventskalender_domain_model_door SET day = 1 WHERE day = 0;
- Cache leeren nach Update

### Relation Door ‚Üî Voucher funktioniert nicht
- Datenbank-Struktur analysieren lassen im Backend
- Neue "door"-Spalte muss in tx_adventskalender_domain_model_voucher existieren
- Falls nicht vorhanden: Analyze Database Structure im Maintenance-Modul

## Lizenz

GPL-2.0-or-later
